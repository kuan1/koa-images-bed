<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>图床</title>
</head>

<body>
  <p>
    <button class="list-btn">文件列表</button>
  </p>
  <p>
    <input type="text" class="file-name">
    <button class="delete-btn">删除文件</button>
  </p>
  <p>
    <input type="file" class="file">
    <button class="upload-btn">上传文件</button>
  </p>
  <script src="./axios.min.js"></script>
  <script>
    document.querySelector('.list-btn').onclick = fetchList
    document.querySelector('.delete-btn').onclick = removeFile
    document.querySelector('.upload-btn').onclick = uploadFile

    async function fetchList() {
      const { data } = await axios({
        url: '/api/images/upload'
      })
      console.log(data)
    }

    async function removeFile() {
      const name = document.querySelector('.file-name').value
      const { data } = await axios({
        url: '/api/images/upload',
        method: 'delete'
      })
      console.log(data)
    }

    async function uploadFile() {
      const [file] = document.querySelector('.file').files
      const fd = new FormData()
      fd.append('file', file)
      const { data } = await axios({
        url: '/api/images/upload',
        method: 'post',
        data: fd
      })
      console.log(data)
    }
  </script>
</body>

</html>